<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>风味定制系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#FF7D00',
                        neutral: {
                            100: '#F5F7FA',
                            200: '#E5E6EB',
                            300: '#C9CDD4',
                            400: '#86909C',
                            500: '#4E5969',
                            600: '#272E3B',
                            700: '#1D2129',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'elevation-1': '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',
                        'elevation-2': '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)',
                        'elevation-3': '0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)',
                        'elevation-hover': '0 14px 28px rgba(22, 93, 255, 0.15), 0 10px 10px rgba(22, 93, 255, 0.05)',
                        'card': '0 4px 20px rgba(0, 0, 0, 0.08)',
                        'card-hover': '0 10px 30px rgba(22, 93, 255, 0.12)',
                    }
                },
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
            }
            .transition-custom {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .card-hover {
                @apply hover:shadow-card-hover transition-custom transform hover:-translate-y-1;
            }
            .flavor-icon {
                @apply w-14 h-14 mx-auto mb-2 bg-neutral-200 rounded-full flex items-center justify-center transition-custom;
            }
            .flavor-option:hover .flavor-icon {
                @apply bg-primary/20;
            }
            .flavor-option.selected .flavor-icon {
                @apply bg-primary/30 text-primary;
            }
            .order-item-selected {
                @apply border-primary bg-primary/5;
            }
            .gradient-overlay {
                @apply absolute inset-0 bg-gradient-to-t from-black/60 to-transparent;
            }
            .dish-badge {
                @apply absolute top-4 right-4 bg-secondary text-white text-sm font-bold px-3 py-1 rounded-full transform transition-transform hover:scale-110;
            }
            .input-range-thumb {
                @apply appearance-none w-6 h-6 rounded-full bg-primary shadow-md cursor-pointer transition-transform hover:scale-125;
            }
            .glass-effect {
                @apply bg-white/80 backdrop-blur-sm;
            }
            .shine-effect {
                position: relative;
                overflow: hidden;
            }
            .shine-effect::after {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: linear-gradient(
                    to right,
                    rgba(255, 255, 255, 0) 0%,
                    rgba(255, 255, 255, 0.3) 50%,
                    rgba(255, 255, 255, 0) 100%
                );
                transform: rotate(30deg);
                animation: shine 3s infinite;
            }
            @keyframes shine {
                0% {
                    transform: translateX(-100%) rotate(30deg);
                }
                100% {
                    transform: translateX(100%) rotate(30deg);
                }
            }
            .pulse-animation {
                animation: pulse 2s infinite;
            }
            @keyframes pulse {
                0% {
                    box-shadow: 0 0 0 0 rgba(22, 93, 255, 0.4);
                }
                70% {
                    box-shadow: 0 0 0 10px rgba(22, 93, 255, 0);
                }
                100% {
                    box-shadow: 0 0 0 0 rgba(22, 93, 255, 0);
                }
            }
            /* 香气标签样式 */
            .aroma-tag {
                @apply inline-block px-2 py-1 text-xs rounded-full bg-primary/10 text-primary mr-2 mb-2;
            }
            /* 风味详情面板样式 */
            .flavor-detail-panel {
                @apply text-base bg-white p-4 rounded-lg border border-neutral-200 shadow-sm mt-3;
            }
            .flavor-section-title {
                @apply font-medium text-neutral-700 mb-1 block;
            }
            .flavor-characteristic {
                @apply text-neutral-600 mb-2;
            }
            .dominant-aroma {
                @apply text-primary font-medium;
            }
            .secondary-aroma {
                @apply text-primary/80;
            }
        }
    </style>
</head>
<body class="font-inter bg-neutral-100 text-neutral-700 min-h-screen flex flex-col text-lg">
    <!-- 导航栏 -->
    <header class="glass-effect shadow-elevation-1 sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-cutlery text-primary text-2xl transform transition-transform hover:rotate-12"></i>
                <h1 class="text-xl md:text-2xl font-bold text-neutral-700 bg-gradient-to-r from-primary to-secondary text-gradient">风味定制系统</h1>
            </div>
            
            <nav class="hidden md:flex space-x-8">
                <button id="customerBtn" class="nav-btn active py-2 font-medium text-primary border-b-2 border-primary transition-all duration-300">
                    顾客点单
                </button>
                <button id="chefBtn" class="nav-btn py-2 font-medium text-neutral-500 hover:text-primary transition-custom">
                    厨师配方
                </button>
            </nav>
            
            <button class="md:hidden text-neutral-700 focus:outline-none" id="mobileMenuBtn">
                <i class="fa fa-bars text-xl transition-transform duration-300 hover:rotate-90"></i>
            </button>
        </div>
        
        <!-- 移动端菜单 -->
        <div id="mobileMenu" class="md:hidden hidden bg-white border-t border-neutral-200">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
                <button id="mobileCustomerBtn" class="py-3 font-medium text-primary text-left transition-all duration-300 hover:pl-2">
                    顾客点单
                </button>
                <button id="mobileChefBtn" class="py-3 font-medium text-neutral-500 text-left hover:text-primary transition-custom">
                    厨师配方
                </button>
            </div>
        </div>
    </header>

    <main class="flex-grow">
        <!-- 顾客点单界面 -->
        <section id="customerInterface" class="container mx-auto px-4 py-8">
            <div class="text-center mb-12 mt-6">
                <h2 class="text-[clamp(2rem,5vw,2.8rem)] font-bold text-neutral-700 mb-3">
                    定制您的专属口味
                </h2>
                <p class="text-neutral-500 max-w-2xl mx-auto mt-6 text-lg">选择您喜爱的菜肴，调整酸度和风味，我们将为您精心调制独一无二的美味体验（含乳脂味、陈酿窖香等丰富香气）</p>
            </div>
            
            <!-- 菜品选择区 -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                <div class="dish-card bg-white rounded-xl overflow-hidden shadow-card card-hover cursor-pointer transition-all duration-300" data-dish="yuxiang">
                    <div class="relative h-56 overflow-hidden rounded-t-xl shine-effect">
                        <img src="images/鱼香肉丝.jpg" alt="鱼香肉丝" class="w-full h-full object-cover transition-custom hover:scale-105">
                        <div class="gradient-overlay"></div>
                        <div class="dish-badge pulse-animation">
                            热门
                        </div>
                        <div class="absolute bottom-4 left-4 text-white">
                            <h3 class="text-xl font-bold text-shadow">鱼香肉丝</h3>
                            <p class="text-sm text-white/90">经典川菜，酸甜可口</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 菜品香气标签 -->
                        <div class="mb-3">
                            <span class="text-sm text-neutral-500 block mb-1">可选香气：</span>
                            <span class="aroma-tag">乳脂味（乳清）</span>
                            <span class="aroma-tag">陈酿窖香（香醋）</span>
                            <span class="aroma-tag">水果香（乳清）</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-primary font-bold text-lg">¥48</span>
                            <button class="select-dish-btn bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-custom shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                                选择
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="dish-card bg-white rounded-xl overflow-hidden shadow-card card-hover cursor-pointer transition-all duration-300" data-dish="tangcu">
                    <div class="relative h-56 overflow-hidden rounded-t-xl shine-effect">
                        <img src="images/糖醋排骨.jpg" alt="糖醋排骨" class="w-full h-full object-cover transition-custom hover:scale-105">
                        <div class="gradient-overlay"></div>
                        <div class="absolute bottom-4 left-4 text-white">
                            <h3 class="text-xl font-bold text-shadow">糖醋排骨</h3>
                            <p class="text-sm text-white/90">酸甜适中，肉质鲜嫩</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 菜品香气标签 -->
                        <div class="mb-3">
                            <span class="text-sm text-neutral-500 block mb-1">可选香气：</span>
                            <span class="aroma-tag">焦糖味（乳清）</span>
                            <span class="aroma-tag">糯米甜香（香醋）</span>
                            <span class="aroma-tag">香草味（乳清）</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-primary font-bold text-lg">¥68</span>
                            <button class="select-dish-btn bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-custom shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                                选择
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="dish-card bg-white rounded-xl overflow-hidden shadow-card card-hover cursor-pointer transition-all duration-300" data-dish="suncaiyu">
                    <div class="relative h-56 overflow-hidden rounded-t-xl shine-effect">
                        <img src="images/酸菜鱼.jpg" alt="酸菜鱼" class="w-full h-full object-cover transition-custom hover:scale-105">
                        <div class="gradient-overlay"></div>
                        <div class="absolute bottom-4 left-4 text-white">
                            <h3 class="text-xl font-bold text-shadow">酸菜鱼</h3>
                            <p class="text-sm text-white/90">酸爽可口，鱼肉滑嫩</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 菜品香气标签 -->
                        <div class="mb-3">
                            <span class="text-sm text-neutral-500 block mb-1">可选香气：</span>
                            <span class="aroma-tag">矿物清香（乳清）</span>
                            <span class="aroma-tag">坚果味（香醋）</span>
                            <span class="aroma-tag">大曲香（香醋）</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-primary font-bold text-lg">¥78</span>
                            <button class="select-dish-btn bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-custom shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                                选择
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 口味定制区 - 调整为水平布局 -->
            <div id="customizationSection" class="bg-white rounded-2xl shadow-elevation-2 p-6 md:p-8 max-w-5xl mx-auto hidden transform transition-all duration-500 opacity-0 translate-y-4">
                <h3 class="text-2xl font-bold mb-6 text-neutral-700">定制您的 <span id="selectedDishName" class="text-primary">口味</span></h3>
                
                <!-- 水平布局容器 -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- 酸度选择框 -->
                    <div class="p-5 bg-neutral-50 rounded-xl border border-neutral-200 hover:shadow-sm transition-all">
                        <label class="block text-neutral-700 font-medium mb-3 text-lg">选择酸度 (1-5级)</label>
                        <div class="flex flex-col space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-base text-neutral-500">浓郁乳香</span>
                                <input type="range" min="1" max="5" value="3" class="w-full accent-primary" id="aciditySlider" style="
                                    -webkit-appearance: none;
                                    height: 6px;
                                    border-radius: 5px;
                                    background: #e5e6eb;
                                ">
                                <span class="text-base text-neutral-500">醇厚醋香</span>
                            </div>
                            <div class="flex justify-center">
                                <span id="acidityValue" class="text-2xl font-bold text-primary">3</span>
                                <span class="text-neutral-500 ml-2">级</span>
                            </div>
                            <!-- 带香气的酸度详情 -->
                            <div id="acidityDetails" class="text-base text-neutral-500 bg-white p-3 rounded-lg border border-neutral-200 shadow-sm">
                                50g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香） 和 50g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）
                            </div>
                            
                            <!-- 风味详情面板 -->
                            <div id="flavorDetailsPanel" class="flavor-detail-panel">
                                <span class="flavor-section-title">风味特征：</span>
                                <p id="flavorCharacteristic" class="flavor-characteristic">乳清与香醋风味均衡融合，形成"双酸协同"的味感，乳清的乳酸味与香醋的醋酸味等量交织，味感鲜活且协调。</p>
                                
                                <span class="flavor-section-title">香气特征：</span>
                                <p><span class="dominant-aroma">主导香气：</span><span id="dominantAromas">乳脂味、乳酸味、水果香（乳清）；醋酸味、糯米甜香、坚果味（香醋）</span></p>
                                <p><span class="secondary-aroma">辅助香气：</span><span id="secondaryAromas">焦糖味、香草味、矿物清香（乳清）；陈酿窖香、麸皮香、大曲香（香醋）</span></p>
                            </div>
                            
                            <!-- 香气说明提示 -->
                            <div class="text-sm text-neutral-400 flex items-center">
                                <i class="fa fa-lightbulb-o text-primary mr-2"></i>
                                <span>乳清香气：乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香 | 香醋香气：醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 口味选择框 -->
                    <div class="p-5 bg-neutral-50 rounded-xl border border-neutral-200 hover:shadow-sm transition-all">
                        <label class="block text-neutral-700 font-medium mb-3 text-lg">选择口味</label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="original">
                                <div class="flavor-icon">
                                    <i class="fa fa-cutlery text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">原味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="apple">
                                <div class="flavor-icon">
                                    <i class="fa fa-apple text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">苹果味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="lemon">
                                <div class="flavor-icon">
                                    <i class="fa fa-lemon-o text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">柠檬味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="rose">
                                <div class="flavor-icon">
                                    <i class="fa fa-heart text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">玫瑰味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="passionfruit">
                                <div class="flavor-icon">
                                    <i class="fa fa-leaf text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">百香果味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="osmanthus">
                                <div class="flavor-icon">
                                    <i class="fa fa-pagelines text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">桂花味</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-4 pt-4 border-t border-neutral-200">
                    <button id="cancelCustomization" class="px-6 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-100 transition-custom transform hover:-translate-y-0.5 text-lg">
                        取消
                    </button>
                    <button id="submitOrder" class="px-6 py-2 bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-custom shadow-elevation-1 hover:shadow-elevation-2 transform hover:-translate-y-0.5 text-lg">
                        提交订单
                    </button>
                </div>
            </div>
            
            <!-- 订单成功提示 -->
            <div id="orderSuccess" class="max-w-md mx-auto bg-white rounded-2xl shadow-elevation-2 p-8 text-center hidden transform transition-all duration-500 opacity-0">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 pulse-animation">
                    <i class="fa fa-check text-green-500 text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-neutral-700">订单提交成功！</h3>
                <p class="text-neutral-500 mb-6">您的定制口味订单已发送给厨师</p>
                <button id="newOrderBtn" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-custom w-full shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-lg">
                    新订单
                </button>
            </div>
        </section>
        
        <!-- 厨师界面 -->
        <section id="chefInterface" class="container mx-auto px-4 py-8 hidden">
            <div class="text-center mb-12 mt-6">
                <h2 class="text-[clamp(2rem,5vw,2.8rem)] font-bold text-neutral-700 mb-3">
                    厨师配方面板
                </h2>
                <p class="text-neutral-500 max-w-2xl mx-auto mt-6 text-lg">根据顾客的口味选择，配置相应的调味粉末与醋混合</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- 订单列表 -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-card p-6 md:p-8 h-full">
                        <h3 class="text-xl font-bold mb-6 text-neutral-700 flex items-center">
                            <i class="fa fa-list-alt text-primary mr-2"></i> 待处理订单
                        </h3>
                        
                        <div class="space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-hide" id="ordersList">
                            <!-- 订单数据将通过JavaScript动态生成 -->
                        </div>
                        
                        <div id="noOrdersMessage" class="py-12 text-center text-neutral-500">
                            <i class="fa fa-inbox text-4xl mb-4 opacity-30"></i>
                            <p>当前没有待处理的订单</p>
                        </div>
                    </div>
                </div>
                
                <!-- 配方详情 - 始终可见，选择订单后更新内容 -->
                <div class="lg:col-span-2">
                    <div id="recipeDetails" class="bg-white rounded-2xl shadow-card p-6 md:p-8 h-full">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-neutral-700 flex items-center">
                                <i class="fa fa-flask text-primary mr-2"></i> 配方详情
                            </h3>
                            <span id="currentOrderId" class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full">
                                请选择订单
                            </span>
                        </div>
                        
                        <div id="noSelectedOrder" class="py-16 text-center text-neutral-500">
                            <i class="fa fa-file-text-o text-5xl mb-4 opacity-30"></i>
                            <p>从左侧选择一个订单查看详细配方</p>
                        </div>
                        
                        <div id="orderRecipeContent" class="hidden">
                            <div class="mb-8">
                                <h4 class="text-lg font-semibold mb-4 text-neutral-700">订单信息</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                    <div class="bg-neutral-50 p-4 rounded-lg border border-neutral-200 hover:shadow-md transition-all duration-300">
                                        <span class="text-sm text-neutral-500 block mb-1">菜品</span>
                                        <span id="recipeDish" class="font-medium text-lg">鱼香肉丝</span>
                                    </div>
                                    <div class="bg-neutral-50 p-4 rounded-lg border border-neutral-200 hover:shadow-md transition-all duration-300">
                                        <span class="text-sm text-neutral-500 block mb-1">酸度</span>
                                        <span id="recipeAcidity" class="font-medium text-lg">3级</span>
                                    </div>
                                    <div class="bg-neutral-50 p-4 rounded-lg border border-neutral-200 hover:shadow-md transition-all duration-300">
                                        <span class="text-sm text-neutral-500 block mb-1">口味</span>
                                        <span id="recipeFlavor" class="font-medium text-lg">苹果味</span>
                                    </div>
                                </div>
                                
                                <div class="bg-blue-50 p-4 rounded-lg mb-6 border border-blue-100">
                                    <h5 class="font-medium text-neutral-700 mb-2">风味特征与酸度配比</h5>
                                    <p id="acidityRatio" class="text-neutral-600 text-base">50g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香） 和 50g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）</p>
                                    
                                    <!-- 厨师视图中的风味详情 -->
                                    <div class="mt-4 pt-4 border-t border-blue-100">
                                        <p class="text-base font-medium mb-2">风味特征：<span id="chefFlavorCharacteristic" class="font-normal">乳清与香醋风味均衡融合，形成"双酸协同"的味感</span></p>
                                        <p class="text-base font-medium mb-2">香气特征：<span id="chefAromaCharacteristic" class="font-normal">乳脂味、乳酸味、水果香与醋酸味、糯米甜香、坚果味协同呈现</span></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-8">
                                <h4 class="text-lg font-semibold mb-4 text-neutral-700">原料配比</h4>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-custom">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                                <i class="fa fa-cube text-primary"></i>
                                            </div>
                                            <span class="text-lg">乳清源酸味剂</span>
                                        </div>
                                        <span id="lacticAcidAmount" class="font-semibold text-neutral-700 text-lg">50g</span>
                                    </div>
                                    
                                    <div class="flex justify-between items-center p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-custom">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3">
                                                <i class="fa fa-lemon-o text-secondary"></i>
                                            </div>
                                            <span class="text-lg">醋</span>
                                        </div>
                                        <span id="aceticAcidAmount" class="font-semibold text-neutral-700 text-lg">50g</span>
                                    </div>
                                    
                                    <div id="flavorAdditiveContainer" class="flex justify-between items-center p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-custom">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                                <i class="fa fa-pagelines text-green-500"></i>
                                            </div>
                                            <span id="flavorAdditiveName" class="text-lg">苹果味添加剂</span>
                                        </div>
                                        <span id="flavorAdditiveAmount" class="font-semibold text-neutral-700 text-lg">8g</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-blue-50 p-5 rounded-lg mb-8 border border-blue-100">
                                <h4 class="text-lg font-semibold mb-3 text-neutral-700 flex items-center">
                                    <i class="fa fa-info-circle text-primary mr-2"></i> 制作步骤
                                </h4>
                                <ol class="list-decimal pl-5 space-y-2 text-neutral-600 text-base" id="preparationSteps">
                                    <li>称取所需乳清调味剂</li>
                                    <li>缓慢加入醋并搅拌均匀</li>
                                    <li>静置2分钟让风味充分融合</li>
                                    <li>根据需要调整浓度，可添加少量水稀释</li>
                                    <li>将混合液加入菜品即可</li>
                                </ol>
                            </div>
                            
                            <div class="flex justify-end space-x-4 pt-4 border-t border-neutral-200">
                                <button id="completeOrderBtn" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-custom shadow-elevation-1 hover:shadow-elevation-2 transform hover:-translate-y-0.5 text-lg">
                                    <i class="fa fa-check mr-1"></i> 完成制作
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-neutral-700 text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center space-x-2">
                        <i class="fa fa-cutlery text-white text-xl"></i>
                        <span class="font-bold text-lg bg-gradient-to-r from-primary to-secondary text-gradient">风味定制系统</span>
                    </div>
                    <p class="text-neutral-300 text-sm mt-2">为您提供个性化的味觉体验</p>
                </div>
                
                <div class="flex space-x-6">
                    <a href="#" class="text-neutral-300 hover:text-white transition-custom text-xl transform hover:scale-125">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a href="#" class="text-neutral-300 hover:text-white transition-custom text-xl transform hover:scale-125">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a href="#" class="text-neutral-300 hover:text-white transition-custom text-xl transform hover:scale-125">
                        <i class="fa fa-instagram"></i>
                    </a>
                </div>
            </div>
            
            <div class="border-t border-neutral-600 mt-6 pt-6 text-center text-neutral-400 text-sm">
                &copy; 2023 风味定制系统 版权所有
            </div>
        </div>
    </footer>

    <script>
        // 等待DOM完全加载后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 全局变量
            let currentDish = null;
            let currentFlavor = null;
            let currentAcidity = 3;
            let orders = [];
            let nextOrderId = 1;
            let selectedOrderId = null;
            
            // 口味名称映射
            const flavorNames = {
                'original': '原味',
                'apple': '苹果味',
                'lemon': '柠檬味',
                'rose': '玫瑰味',
                'passionfruit': '百香果味',
                'osmanthus': '桂花味'
            };
            
            // 菜品名称映射
            const dishNames = {
                'yuxiang': '鱼香肉丝',
                'tangcu': '糖醋排骨',
                'suncaiyu': '酸菜鱼'
            };
            
            // 菜品风味特征映射 - 根据不同菜品调整描述
            const dishFlavorContext = {
                'yuxiang': {
                    flavorDesc: '鱼香风味浓郁，酸甜适中，乳清的柔和酸味与香醋的醇厚感相互补充',
                    dominantAromas: '乳脂味、水果香（乳清）；陈酿窖香、醋酸味（香醋）',
                    secondaryAromas: '乳酸味、焦糖味（乳清）；麸皮香、大曲香（香醋）'
                },
                'tangcu': {
                    flavorDesc: '糖醋风味突出，甜度与酸度平衡，乳清的圆润口感与香醋的层次感形成独特风味',
                    dominantAromas: '焦糖味、香草味（乳清）；糯米甜香、醋酸味（香醋）',
                    secondaryAromas: '乳脂味、水果香（乳清）；坚果味、陈酿窖香（香醋）'
                },
                'suncaiyu': {
                    flavorDesc: '酸辣鲜香，乳清的清新酸味与香醋的醇厚感完美融合，衬托鱼肉的鲜美',
                    dominantAromas: '矿物清香（乳清）；坚果味、大曲香（香醋）',
                    secondaryAromas: '乳酸味、水果香（乳清）；陈酿窖香、麸皮香（香醋）'
                }
            };
            
            // DOM元素引用
            const customerInterface = document.getElementById('customerInterface');
            const chefInterface = document.getElementById('chefInterface');
            const customerBtn = document.getElementById('customerBtn');
            const chefBtn = document.getElementById('chefBtn');
            const mobileCustomerBtn = document.getElementById('mobileCustomerBtn');
            const mobileChefBtn = document.getElementById('mobileChefBtn');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const dishCards = document.querySelectorAll('.dish-card');
            const selectDishBtns = document.querySelectorAll('.select-dish-btn');
            const customizationSection = document.getElementById('customizationSection');
            const selectedDishName = document.getElementById('selectedDishName');
            const aciditySlider = document.getElementById('aciditySlider');
            const acidityValue = document.getElementById('acidityValue');
            const acidityDetails = document.getElementById('acidityDetails');
            const flavorOptions = document.querySelectorAll('.flavor-option');
            const cancelCustomization = document.getElementById('cancelCustomization');
            const submitOrder = document.getElementById('submitOrder');
            const orderSuccess = document.getElementById('orderSuccess');
            const newOrderBtn = document.getElementById('newOrderBtn');
            const ordersList = document.getElementById('ordersList');
            const noOrdersMessage = document.getElementById('noOrdersMessage');
            const recipeDetails = document.getElementById('recipeDetails');
            const noSelectedOrder = document.getElementById('noSelectedOrder');
            const orderRecipeContent = document.getElementById('orderRecipeContent');
            const currentOrderIdEl = document.getElementById('currentOrderId');
            const recipeDish = document.getElementById('recipeDish');
            const recipeAcidity = document.getElementById('recipeAcidity');
            const recipeFlavor = document.getElementById('recipeFlavor');
            const acidityRatio = document.getElementById('acidityRatio');
            const chefFlavorCharacteristic = document.getElementById('chefFlavorCharacteristic');
            const chefAromaCharacteristic = document.getElementById('chefAromaCharacteristic');
            const lacticAcidAmount = document.getElementById('lacticAcidAmount');
            const aceticAcidAmount = document.getElementById('aceticAcidAmount');
            const flavorAdditiveName = document.getElementById('flavorAdditiveName');
            const flavorAdditiveAmount = document.getElementById('flavorAdditiveAmount');
            const completeOrderBtn = document.getElementById('completeOrderBtn');
            const flavorCharacteristic = document.getElementById('flavorCharacteristic');
            const dominantAromas = document.getElementById('dominantAromas');
            const secondaryAromas = document.getElementById('secondaryAromas');
            
            // 导航菜单切换
            customerBtn.addEventListener('click', () => showCustomerInterface());
            chefBtn.addEventListener('click', () => showChefInterface());
            mobileCustomerBtn.addEventListener('click', () => {
                showCustomerInterface();
                mobileMenu.classList.add('hidden');
            });
            mobileChefBtn.addEventListener('click', () => {
                showChefInterface();
                mobileMenu.classList.add('hidden');
            });
            
            // 移动端菜单切换
            mobileMenuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
            
            // 显示顾客界面
            function showCustomerInterface() {
                customerInterface.classList.remove('hidden');
                chefInterface.classList.add('hidden');
                customerBtn.classList.add('text-primary', 'border-b-2', 'border-primary');
                chefBtn.classList.remove('text-primary', 'border-b-2', 'border-primary');
                customerBtn.classList.add('active');
                chefBtn.classList.remove('active');
                mobileCustomerBtn.classList.add('text-primary');
                mobileChefBtn.classList.remove('text-primary');
            }
            
            // 显示厨师界面
            function showChefInterface() {
                customerInterface.classList.add('hidden');
                chefInterface.classList.remove('hidden');
                chefBtn.classList.add('text-primary', 'border-b-2', 'border-primary');
                customerBtn.classList.remove('text-primary', 'border-b-2', 'border-primary');
                chefBtn.classList.add('active');
                customerBtn.classList.remove('active');
                mobileChefBtn.classList.add('text-primary');
                mobileCustomerBtn.classList.remove('text-primary');
                updateOrdersList();
            }
            
            // 菜品选择
            dishCards.forEach(card => {
                card.addEventListener('click', (e) => {
                    // 如果点击的是按钮，不处理，由按钮事件处理
                    if (e.target.closest('.select-dish-btn')) return;
                    
                    const dish = card.getAttribute('data-dish');
                    selectDish(dish);
                });
            });
            
            selectDishBtns.forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const dishCard = btn.closest('.dish-card');
                    const dish = dishCard.getAttribute('data-dish');
                    selectDish(dish);
                });
            });
            
            // 选择菜品
            function selectDish(dish) {
                currentDish = dish;
                selectedDishName.textContent = dishNames[dish];
                currentFlavor = null;
                flavorOptions.forEach(option => option.classList.remove('selected'));
                
                // 更新风味特征
                updateFlavorCharacteristics(dish, currentAcidity);
                
                // 显示定制区域
                customizationSection.classList.remove('hidden');
                setTimeout(() => {
                    customizationSection.classList.remove('opacity-0', 'translate-y-4');
                }, 10);
            }
            
            // 更新风味特征
            function updateFlavorCharacteristics(dish, acidity) {
                const context = dishFlavorContext[dish];
                
                // 根据酸度调整风味描述
                let acidityDesc = '';
                if (acidity === 1) {
                    acidityDesc = '乳清风味占绝对主导，酸度柔和圆润，乳脂感浓郁';
                } else if (acidity === 2) {
                    acidityDesc = '乳清风味明显，带有轻微醋香，口感圆润顺滑';
                } else if (acidity === 3) {
                    acidityDesc = '乳清与香醋风味均衡融合，形成"双酸协同"的味感';
                } else if (acidity === 4) {
                    acidityDesc = '香醋风味突出，乳清味作为辅助，酸度明亮醇厚';
                } else {
                    acidityDesc = '纯香醋风味，酸度鲜明，层次丰富，口感醇厚';
                }
                
                flavorCharacteristic.textContent = `${context.flavorDesc}，${acidityDesc}`;
                dominantAromas.textContent = context.dominantAromas;
                secondaryAromas.textContent = context.secondaryAromas;
            }
            
            // 酸度调整
            aciditySlider.addEventListener('input', (e) => {
                currentAcidity = parseInt(e.target.value);
                acidityValue.textContent = currentAcidity;
                
                // 更新酸度详情
                updateAcidityDetails(currentAcidity);
                
                // 更新风味特征
                if (currentDish) {
                    updateFlavorCharacteristics(currentDish, currentAcidity);
                }
            });
            
            // 更新酸度详情 - 根据新的配比要求更新
            function updateAcidityDetails(acidity) {
                let lacticAcid, aceticAcid;
                
                // 根据酸度等级设置不同的配比
                switch(acidity) {
                    case 1:
                        lacticAcid = 100;
                        aceticAcid = 0;
                        break;
                    case 2:
                        lacticAcid = 70;
                        aceticAcid = 30;
                        break;
                    case 3:
                        lacticAcid = 50;
                        aceticAcid = 50;
                        break;
                    case 4:
                        lacticAcid = 30;
                        aceticAcid = 70;
                        break;
                    case 5:
                        lacticAcid = 0;
                        aceticAcid = 100;
                        break;
                    default:
                        lacticAcid = 50;
                        aceticAcid = 50;
                }
                
                acidityDetails.textContent = 
                    `${lacticAcid}g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香） 和 ${aceticAcid}g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）`;
            }
            
            // 口味选择
            flavorOptions.forEach(option => {
                option.addEventListener('click', () => {
                    flavorOptions.forEach(opt => opt.classList.remove('selected'));
                    option.classList.add('selected');
                    currentFlavor = option.getAttribute('data-flavor');
                });
            });
            
            // 取消定制
            cancelCustomization.addEventListener('click', () => {
                customizationSection.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => {
                    customizationSection.classList.add('hidden');
                    currentDish = null;
                    currentFlavor = null;
                }, 500);
            });
            
            // 提交订单
            submitOrder.addEventListener('click', () => {
                if (!currentDish || !currentFlavor) {
                    alert('请选择菜品和口味');
                    return;
                }
                
                // 创建订单
                const order = {
                    id: nextOrderId++,
                    dish: currentDish,
                    dishName: dishNames[currentDish],
                    acidity: currentAcidity,
                    flavor: currentFlavor,
                    flavorName: flavorNames[currentFlavor],
                    time: new Date().toLocaleTimeString()
                };
                
                // 添加到订单列表
                orders.push(order);
                
                // 显示订单成功界面
                customizationSection.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => {
                    customizationSection.classList.add('hidden');
                    orderSuccess.classList.remove('hidden');
                    setTimeout(() => {
                        orderSuccess.classList.remove('opacity-0');
                    }, 10);
                }, 500);
            });
            
            // 新订单
            newOrderBtn.addEventListener('click', () => {
                orderSuccess.classList.add('opacity-0');
                setTimeout(() => {
                    orderSuccess.classList.add('hidden');
                    currentDish = null;
                    currentFlavor = null;
                }, 500);
            });
            
            // 更新订单列表
            function updateOrdersList() {
                ordersList.innerHTML = '';
                
                if (orders.length === 0) {
                    noOrdersMessage.classList.remove('hidden');
                    return;
                }
                
                noOrdersMessage.classList.add('hidden');
                
                orders.forEach(order => {
                    const orderItem = document.createElement('div');
                    orderItem.className = `border rounded-xl p-4 cursor-pointer transition-custom hover:shadow-md ${selectedOrderId === order.id ? 'order-item-selected' : ''}`;
                    orderItem.setAttribute('data-order-id', order.id);
                    
                    orderItem.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-medium text-neutral-700">${order.dishName}</h4>
                            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded">订单 #${order.id}</span>
                        </div>
                        <div class="text-sm text-neutral-500 space-y-1 mb-3">
                            <p>酸度: ${order.acidity}级</p>
                            <p>口味: ${order.flavorName}</p>
                        </div>
                        <div class="text-xs text-neutral-400 flex justify-between items-center">
                            <span>${order.time}</span>
                            <span class="inline-block px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded-full text-xs">待处理</span>
                        </div>
                    `;
                    
                    orderItem.addEventListener('click', () => {
                        selectOrder(order.id);
                    });
                    
                    ordersList.appendChild(orderItem);
                });
            }
            
            // 选择订单
            function selectOrder(orderId) {
                selectedOrderId = orderId;
                const order = orders.find(o => o.id === orderId);
                
                if (!order) return;
                
                // 更新UI
                document.querySelectorAll('[data-order-id]').forEach(item => {
                    if (parseInt(item.getAttribute('data-order-id')) === orderId) {
                        item.classList.add('order-item-selected');
                    } else {
                        item.classList.remove('order-item-selected');
                    }
                });
                
                // 显示订单详情
                noSelectedOrder.classList.add('hidden');
                orderRecipeContent.classList.remove('hidden');
                currentOrderIdEl.textContent = `订单 #${order.id}`;
                
                // 更新订单详情内容
                recipeDish.textContent = order.dishName;
                recipeAcidity.textContent = `${order.acidity}级`;
                recipeFlavor.textContent = order.flavorName;
                
                // 更新酸度配比
                let lacticAcid, aceticAcid;
                switch(order.acidity) {
                    case 1:
                        lacticAcid = 100;
                        aceticAcid = 0;
                        break;
                    case 2:
                        lacticAcid = 70;
                        aceticAcid = 30;
                        break;
                    case 3:
                        lacticAcid = 50;
                        aceticAcid = 50;
                        break;
                    case 4:
                        lacticAcid = 30;
                        aceticAcid = 70;
                        break;
                    case 5:
                        lacticAcid = 0;
                        aceticAcid = 100;
                        break;
                    default:
                        lacticAcid = 50;
                        aceticAcid = 50;
                }
                
                acidityRatio.textContent = 
                    `${lacticAcid}g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香） 和 ${aceticAcid}g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）`;
                
                // 更新风味特征
                const context = dishFlavorContext[order.dish];
                let acidityDesc = '';
                if (order.acidity === 1) {
                    acidityDesc = '乳清风味占绝对主导，酸度柔和圆润，乳脂感浓郁';
                } else if (order.acidity === 2) {
                    acidityDesc = '乳清风味明显，带有轻微醋香，口感圆润顺滑';
                } else if (order.acidity === 3) {
                    acidityDesc = '乳清与香醋风味均衡融合，形成"双酸协同"的味感';
                } else if (order.acidity === 4) {
                    acidityDesc = '香醋风味突出，乳清味作为辅助，酸度明亮醇厚';
                } else {
                    acidityDesc = '纯香醋风味，酸度鲜明，层次丰富，口感醇厚';
                }
                chefFlavorCharacteristic.textContent = `${context.flavorDesc}，${acidityDesc}`;
                chefAromaCharacteristic.textContent = `${context.dominantAromas} 协同呈现`;
                
                // 更新原料配比
                lacticAcidAmount.textContent = `${lacticAcid}g`;
                aceticAcidAmount.textContent = `${aceticAcid}g`;
                
                // 更新添加剂信息
                flavorAdditiveName.textContent = `${order.flavorName}添加剂`;
                flavorAdditiveAmount.textContent = '8g';
            }
            
            // 完成订单
            completeOrderBtn.addEventListener('click', () => {
                if (!selectedOrderId) return;
                
                // 从订单列表中移除
                orders = orders.filter(order => order.id !== selectedOrderId);
                selectedOrderId = null;
                
                // 更新UI
                updateOrdersList();
                noSelectedOrder.classList.remove('hidden');
                orderRecipeContent.classList.add('hidden');
                currentOrderIdEl.textContent = '请选择订单';
                
                // 显示成功提示
                const notification = document.createElement('div');
                notification.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50';
                notification.textContent = '订单已完成制作';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 500);
                }, 2000);
            });
            
            // 初始化 - 设置默认值
            updateAcidityDetails(currentAcidity);
        });
    </script>
</body>
</html>
