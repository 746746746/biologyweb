<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>风味定制系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#FF7D00',
                        neutral: {
                            100: '#F5F7FA',
                            200: '#E5E6EB',
                            300: '#C9CDD4',
                            400: '#86909C',
                            500: '#4E5969',
                            600: '#272E3B',
                            700: '#1D2129',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    boxShadow: {
                        'elevation-1': '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',
                        'elevation-2': '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)',
                        'elevation-3': '0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)',
                        'elevation-hover': '0 14px 28px rgba(22, 93, 255, 0.15), 0 10px 10px rgba(22, 93, 255, 0.05)',
                        'card': '0 4px 20px rgba(0, 0, 0, 0.08)',
                        'card-hover': '0 10px 30px rgba(22, 93, 255, 0.12)',
                    }
                },
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .text-shadow {
                text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            .text-gradient {
                background-clip: text;
                -webkit-background-clip: text;
                color: transparent;
            }
            .transition-custom {
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            }
            .scrollbar-hide::-webkit-scrollbar {
                display: none;
            }
            .card-hover {
                @apply hover:shadow-card-hover transition-custom transform hover:-translate-y-1;
            }
            .flavor-icon {
                @apply w-14 h-14 mx-auto mb-2 bg-neutral-200 rounded-full flex items-center justify-center transition-custom;
            }
            .flavor-option:hover .flavor-icon {
                @apply bg-primary/20;
            }
            .flavor-option.selected .flavor-icon {
                @apply bg-primary/30 text-primary;
            }
            .order-item-selected {
                @apply border-primary bg-primary/5;
            }
            .gradient-overlay {
                @apply absolute inset-0 bg-gradient-to-t from-black/60 to-transparent;
            }
            .dish-badge {
                @apply absolute top-4 right-4 bg-secondary text-white text-sm font-bold px-3 py-1 rounded-full transform transition-transform hover:scale-110;
            }
            .input-range-thumb {
                @apply appearance-none w-6 h-6 rounded-full bg-primary shadow-md cursor-pointer transition-transform hover:scale-125;
            }
            .glass-effect {
                @apply bg-white/80 backdrop-blur-sm;
            }
            .shine-effect {
                position: relative;
                overflow: hidden;
            }
            .shine-effect::after {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: linear-gradient(
                    to right,
                    rgba(255, 255, 255, 0) 0%,
                    rgba(255, 255, 255, 0.3) 50%,
                    rgba(255, 255, 255, 0) 100%
                );
                transform: rotate(30deg);
                animation: shine 3s infinite;
            }
            @keyframes shine {
                0% {
                    transform: translateX(-100%) rotate(30deg);
                }
                100% {
                    transform: translateX(100%) rotate(30deg);
                }
            }
            .pulse-animation {
                animation: pulse 2s infinite;
            }
            @keyframes pulse {
                0% {
                    box-shadow: 0 0 0 0 rgba(22, 93, 255, 0.4);
                }
                70% {
                    box-shadow: 0 0 0 10px rgba(22, 93, 255, 0);
                }
                100% {
                    box-shadow: 0 0 0 0 rgba(22, 93, 255, 0);
                }
            }
            /* 香气标签样式 */
            .aroma-tag {
                @apply inline-block px-2 py-1 text-xs rounded-full bg-primary/10 text-primary mr-2 mb-2;
            }
            /* 风味详情面板样式 */
            .flavor-detail-panel {
                @apply text-base bg-white p-4 rounded-lg border border-neutral-200 shadow-sm mt-3;
            }
            .flavor-section-title {
                @apply font-medium text-neutral-700 mb-1 block;
            }
            .flavor-characteristic {
                @apply text-neutral-600 mb-2;
            }
            .dominant-aroma {
                @apply text-primary font-medium;
            }
            .secondary-aroma {
                @apply text-primary/80;
            }
        }
    </style>
</head>
<body class="font-inter bg-neutral-100 text-neutral-700 min-h-screen flex flex-col text-lg">
    <!-- 导航栏 -->
    <header class="glass-effect shadow-elevation-1 sticky top-0 z-50 transition-all duration-300">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fa fa-cutlery text-primary text-2xl transform transition-transform hover:rotate-12"></i>
                <h1 class="text-xl md:text-2xl font-bold text-neutral-700 bg-gradient-to-r from-primary to-secondary text-gradient">风味定制系统</h1>
            </div>
            
            <nav class="hidden md:flex space-x-8">
                <button id="customerBtn" class="nav-btn active py-2 font-medium text-primary border-b-2 border-primary transition-all duration-300">
                    顾客点单
                </button>
                <button id="chefBtn" class="nav-btn py-2 font-medium text-neutral-500 hover:text-primary transition-custom">
                    厨师配方
                </button>
            </nav>
            
            <button class="md:hidden text-neutral-700 focus:outline-none" id="mobileMenuBtn">
                <i class="fa fa-bars text-xl transition-transform duration-300 hover:rotate-90"></i>
            </button>
        </div>
        
        <!-- 移动端菜单 -->
        <div id="mobileMenu" class="md:hidden hidden bg-white border-t border-neutral-200">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
                <button id="mobileCustomerBtn" class="py-3 font-medium text-primary text-left transition-all duration-300 hover:pl-2">
                    顾客点单
                </button>
                <button id="mobileChefBtn" class="py-3 font-medium text-neutral-500 text-left hover:text-primary transition-custom">
                    厨师配方
                </button>
            </div>
        </div>
    </header>

    <main class="flex-grow">
        <!-- 顾客点单界面 -->
        <section id="customerInterface" class="container mx-auto px-4 py-8">
            <div class="text-center mb-12 mt-6">
                <h2 class="text-[clamp(2rem,5vw,2.8rem)] font-bold text-neutral-700 mb-3">
                    定制您的专属口味
                </h2>
                <p class="text-neutral-500 max-w-2xl mx-auto mt-6 text-lg">选择您喜爱的菜肴，调整酸度和风味，我们将为您精心调制独一无二的美味体验（含乳脂味、陈酿窖香等丰富香气）</p>
            </div>
            
            <!-- 菜品选择区 -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
                <div class="dish-card bg-white rounded-xl overflow-hidden shadow-card card-hover cursor-pointer transition-all duration-300" data-dish="yuxiang">
                    <div class="relative h-56 overflow-hidden rounded-t-xl shine-effect">
                        <img src="images/鱼香肉丝.jpg" alt="鱼香肉丝" class="w-full h-full object-cover transition-custom hover:scale-105">
                        <div class="gradient-overlay"></div>
                        <div class="dish-badge pulse-animation">
                            热门
                        </div>
                        <div class="absolute bottom-4 left-4 text-white">
                            <h3 class="text-xl font-bold text-shadow">鱼香肉丝</h3>
                            <p class="text-sm text-white/90">经典川菜，酸甜可口</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 菜品香气标签 -->
                        <div class="mb-3">
                            <span class="text-sm text-neutral-500 block mb-1">可选香气：</span>
                            <span class="aroma-tag">乳脂味（乳清）</span>
                            <span class="aroma-tag">陈酿窖香（香醋）</span>
                            <span class="aroma-tag">水果香（乳清）</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-primary font-bold text-lg">¥48</span>
                            <button class="select-dish-btn bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-custom shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                                选择
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="dish-card bg-white rounded-xl overflow-hidden shadow-card card-hover cursor-pointer transition-all duration-300" data-dish="tangcu">
                    <div class="relative h-56 overflow-hidden rounded-t-xl shine-effect">
                        <img src="images/糖醋排骨.jpg" alt="糖醋排骨" class="w-full h-full object-cover transition-custom hover:scale-105">
                        <div class="gradient-overlay"></div>
                        <div class="absolute bottom-4 left-4 text-white">
                            <h3 class="text-xl font-bold text-shadow">糖醋排骨</h3>
                            <p class="text-sm text-white/90">酸甜适中，肉质鲜嫩</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 菜品香气标签 -->
                        <div class="mb-3">
                            <span class="text-sm text-neutral-500 block mb-1">可选香气：</span>
                            <span class="aroma-tag">焦糖味（乳清）</span>
                            <span class="aroma-tag">糯米甜香（香醋）</span>
                            <span class="aroma-tag">香草味（乳清）</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-primary font-bold text-lg">¥68</span>
                            <button class="select-dish-btn bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-custom shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                                选择
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="dish-card bg-white rounded-xl overflow-hidden shadow-card card-hover cursor-pointer transition-all duration-300" data-dish="suncaiyu">
                    <div class="relative h-56 overflow-hidden rounded-t-xl shine-effect">
                        <img src="images/酸菜鱼.jpg" alt="酸菜鱼" class="w-full h-full object-cover transition-custom hover:scale-105">
                        <div class="gradient-overlay"></div>
                        <div class="absolute bottom-4 left-4 text-white">
                            <h3 class="text-xl font-bold text-shadow">酸菜鱼</h3>
                            <p class="text-sm text-white/90">酸爽可口，鱼肉滑嫩</p>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 菜品香气标签 -->
                        <div class="mb-3">
                            <span class="text-sm text-neutral-500 block mb-1">可选香气：</span>
                            <span class="aroma-tag">矿物清香（乳清）</span>
                            <span class="aroma-tag">坚果味（香醋）</span>
                            <span class="aroma-tag">大曲香（香醋）</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-primary font-bold text-lg">¥78</span>
                            <button class="select-dish-btn bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition-custom shadow-md hover:shadow-lg transform hover:-translate-y-0.5">
                                选择
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 口味定制区 - 水平布局 -->
            <div id="customizationSection" class="bg-white rounded-2xl shadow-elevation-2 p-6 md:p-8 max-w-5xl mx-auto hidden transform transition-all duration-500 opacity-0 translate-y-4">
                <h3 class="text-2xl font-bold mb-6 text-neutral-700">定制您的 <span id="selectedDishName" class="text-primary">口味</span></h3>
                
                <!-- 水平布局容器 -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <!-- 酸度选择框 -->
                    <div class="p-5 bg-neutral-50 rounded-xl border border-neutral-200 hover:shadow-sm transition-all">
                        <label class="block text-neutral-700 font-medium mb-3 text-lg">选择酸度 (1-5级)</label>
                        <div class="flex flex-col space-y-4">
                            <div class="flex items-center justify-between">
                                <span class="text-base text-neutral-500">浓郁乳香</span>
                                <input type="range" min="1" max="5" value="3" class="w-full accent-primary" id="aciditySlider" style="
                                    -webkit-appearance: none;
                                    height: 6px;
                                    border-radius: 5px;
                                    background: #e5e6eb;
                                ">
                                <span class="text-base text-neutral-500">醇厚醋香</span>
                            </div>
                            <div class="flex justify-center">
                                <span id="acidityValue" class="text-2xl font-bold text-primary">3</span>
                                <span class="text-neutral-500 ml-2">级</span>
                            </div>
                            <!-- 带香气的酸度详情 -->
                            <div id="acidityDetails" class="text-base text-neutral-500 bg-white p-3 rounded-lg border border-neutral-200 shadow-sm">
                                15g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香） 和 10g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）
                            </div>
                            
                            <!-- 风味详情面板 -->
                            <div id="flavorDetailsPanel" class="flavor-detail-panel">
                                <span class="flavor-section-title">风味特征：</span>
                                <p id="flavorCharacteristic" class="flavor-characteristic">乳清与香醋风味均衡融合，形成"双酸协同"的味感，乳清的乳酸味与香醋的醋酸味协调交织，味感鲜活。</p>
                                
                                <span class="flavor-section-title">香气特征：</span>
                                <p><span class="dominant-aroma">主导香气：</span><span id="dominantAromas">乳脂味、乳酸味、水果香（乳清）；醋酸味、糯米甜香、坚果味（香醋）</span></p>
                                <p><span class="secondary-aroma">辅助香气：</span><span id="secondaryAromas">焦糖味、香草味、矿物清香（乳清）；陈酿窖香、麸皮香、大曲香（香醋）</span></p>
                            </div>
                            
                            <!-- 香气说明提示 -->
                            <div class="text-sm text-neutral-400 flex items-center">
                                <i class="fa fa-lightbulb-o text-primary mr-2"></i>
                                <span>乳清香气：乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香 | 香醋香气：醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 口味选择框 -->
                    <div class="p-5 bg-neutral-50 rounded-xl border border-neutral-200 hover:shadow-sm transition-all">
                        <label class="block text-neutral-700 font-medium mb-3 text-lg">选择口味</label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow selected" data-flavor="original">
                                <div class="flavor-icon">
                                    <i class="fa fa-cutlery text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">原味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="apple">
                                <div class="flavor-icon">
                                    <i class="fa fa-apple text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">苹果味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="lemon">
                                <div class="flavor-icon">
                                    <i class="fa fa-lemon-o text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">柠檬味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="rose">
                                <div class="flavor-icon">
                                    <i class="fa fa-heart text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">玫瑰味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="passionfruit">
                                <div class="flavor-icon">
                                    <i class="fa fa-leaf text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">百香果味</span>
                            </div>
                            <div class="flavor-option bg-white rounded-lg p-4 text-center cursor-pointer hover:bg-primary/10 transition-custom shadow-sm hover:shadow" data-flavor="osmanthus">
                                <div class="flavor-icon">
                                    <i class="fa fa-pagelines text-neutral-600 text-xl"></i>
                                </div>
                                <span class="text-base">桂花味</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="flex justify-end space-x-4 pt-4 border-t border-neutral-200">
                    <button id="cancelCustomization" class="px-6 py-2 border border-neutral-300 rounded-lg text-neutral-600 hover:bg-neutral-100 transition-custom transform hover:-translate-y-0.5 text-lg">
                        取消
                    </button>
                    <button id="submitOrder" class="px-6 py-2 bg-secondary text-white rounded-lg hover:bg-secondary/90 transition-custom shadow-elevation-1 hover:shadow-elevation-2 transform hover:-translate-y-0.5 text-lg">
                        提交订单
                    </button>
                </div>
            </div>
            
            <!-- 订单成功提示 -->
            <div id="orderSuccess" class="max-w-md mx-auto bg-white rounded-2xl shadow-elevation-2 p-8 text-center hidden transform transition-all duration-500 opacity-0">
                <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 pulse-animation">
                    <i class="fa fa-check text-green-500 text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold mb-2 text-neutral-700">订单提交成功！</h3>
                <p class="text-neutral-500 mb-6">您的定制口味订单已发送给厨师</p>
                <button id="newOrderBtn" class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-custom w-full shadow-md hover:shadow-lg transform hover:-translate-y-0.5 text-lg">
                    新订单
                </button>
            </div>
        </section>
        
        <!-- 厨师界面 -->
        <section id="chefInterface" class="container mx-auto px-4 py-8 hidden">
            <div class="text-center mb-12 mt-6">
                <h2 class="text-[clamp(2rem,5vw,2.8rem)] font-bold text-neutral-700 mb-3">
                    厨师配方面板
                </h2>
                <p class="text-neutral-500 max-w-2xl mx-auto mt-6 text-lg">根据顾客的口味选择，配置相应的调味粉末与醋混合</p>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- 订单列表 -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-2xl shadow-card p-6 md:p-8 h-full">
                        <h3 class="text-xl font-bold mb-6 text-neutral-700 flex items-center">
                            <i class="fa fa-list-alt text-primary mr-2"></i> 待处理订单
                        </h3>
                        
                        <div class="space-y-4 max-h-[600px] overflow-y-auto pr-2 scrollbar-hide" id="ordersList">
                            <!-- 订单数据将通过JavaScript动态生成 -->
                        </div>
                        
                        <div id="noOrdersMessage" class="py-12 text-center text-neutral-500">
                            <i class="fa fa-inbox text-4xl mb-4 opacity-30"></i>
                            <p>当前没有待处理的订单</p>
                        </div>
                    </div>
                </div>
                
                <!-- 配方详情 - 始终可见，选择订单后更新内容 -->
                <div class="lg:col-span-2">
                    <div id="recipeDetails" class="bg-white rounded-2xl shadow-card p-6 md:p-8 h-full">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-neutral-700 flex items-center">
                                <i class="fa fa-flask text-primary mr-2"></i> 配方详情
                            </h3>
                            <span id="currentOrderId" class="text-sm bg-primary/10 text-primary px-3 py-1 rounded-full">
                                请选择订单
                            </span>
                        </div>
                        
                        <div id="noSelectedOrder" class="py-16 text-center text-neutral-500">
                            <i class="fa fa-file-text-o text-5xl mb-4 opacity-30"></i>
                            <p>从左侧选择一个订单查看详细配方</p>
                        </div>
                        
                        <div id="orderRecipeContent" class="hidden">
                            <div class="mb-8">
                                <h4 class="text-lg font-semibold mb-4 text-neutral-700">订单信息</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                                    <div class="bg-neutral-50 p-4 rounded-lg border border-neutral-200 hover:shadow-md transition-all duration-300">
                                        <span class="text-sm text-neutral-500 block mb-1">菜品</span>
                                        <span id="recipeDish" class="font-medium text-lg">鱼香肉丝</span>
                                    </div>
                                    <div class="bg-neutral-50 p-4 rounded-lg border border-neutral-200 hover:shadow-md transition-all duration-300">
                                        <span class="text-sm text-neutral-500 block mb-1">酸度</span>
                                        <span id="recipeAcidity" class="font-medium text-lg">3级</span>
                                    </div>
                                    <div class="bg-neutral-50 p-4 rounded-lg border border-neutral-200 hover:shadow-md transition-all duration-300">
                                        <span class="text-sm text-neutral-500 block mb-1">口味</span>
                                        <span id="recipeFlavor" class="font-medium text-lg">苹果味</span>
                                    </div>
                                </div>
                                
                                <div class="bg-blue-50 p-4 rounded-lg mb-6 border border-blue-100">
                                    <h5 class="font-medium text-neutral-700 mb-2">风味特征与酸度配比</h5>
                                    <p id="acidityRatio" class="text-neutral-600 text-base">15g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香） 和 10g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）</p>
                                    
                                    <!-- 厨师视图中的风味详情 -->
                                    <div class="mt-4 pt-4 border-t border-blue-100">
                                        <p class="text-base font-medium mb-2">风味特征：<span id="chefFlavorCharacteristic" class="font-normal">乳清与香醋风味均衡融合，形成"双酸协同"的味感</span></p>
                                        <p class="text-base font-medium mb-2">香气特征：<span id="chefAromaCharacteristic" class="font-normal">乳脂味、乳酸味、水果香与醋酸味、糯米甜香、坚果味协同呈现</span></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-8">
                                <h4 class="text-lg font-semibold mb-4 text-neutral-700">原料配比</h4>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-custom">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3">
                                                <i class="fa fa-cube text-primary"></i>
                                            </div>
                                            <span class="text-lg">乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）</span>
                                        </div>
                                        <span id="lacticAcidAmount" class="font-semibold text-neutral-700 text-lg">15g</span>
                                    </div>
                                    
                                    <div class="flex justify-between items-center p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-custom">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3">
                                                <i class="fa fa-lemon-o text-secondary"></i>
                                            </div>
                                            <span class="text-lg">醋</span>
                                        </div>
                                        <span id="aceticAcidAmount" class="font-semibold text-neutral-700 text-lg">10g</span>
                                    </div>
                                    
                                    <div id="flavorAdditiveContainer" class="flex justify-between items-center p-4 border border-neutral-200 rounded-lg hover:bg-neutral-50 transition-custom hidden">
                                        <div class="flex items-center">
                                            <div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3">
                                                <i class="fa fa-pagelines text-green-500"></i>
                                            </div>
                                            <span id="flavorAdditiveName" class="text-lg">苹果味添加剂</span>
                                        </div>
                                        <span id="flavorAdditiveAmount" class="font-semibold text-neutral-700 text-lg">3g</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-blue-50 p-5 rounded-lg mb-8 border border-blue-100">
                                <h4 class="text-lg font-semibold mb-3 text-neutral-700 flex items-center">
                                    <i class="fa fa-info-circle text-primary mr-2"></i> 制作步骤
                                </h4>
                                <ol class="list-decimal pl-5 space-y-2 text-neutral-600 text-base" id="preparationSteps">
                                    <li>称取所需乳清调味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）</li>
                                    <li>缓慢加入醋并搅拌均匀</li>
                                    <li>静置2分钟让风味充分融合</li>
                                    <li>如选择果味，加入3g对应果味剂并搅拌</li>
                                    <li>将混合液加入菜品即可</li>
                                </ol>
                            </div>
                            
                            <div class="flex justify-end space-x-4 pt-4 border-t border-neutral-200">
                                <button id="completeOrderBtn" class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-custom shadow-elevation-1 hover:shadow-elevation-2 transform hover:-translate-y-0.5 text-lg">
                                    <i class="fa fa-check mr-1"></i> 完成制作
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-neutral-700 text-white py-8 mt-12">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <div class="flex items-center space-x-2">
                        <i class="fa fa-cutlery text-white text-xl"></i>
                        <span class="font-bold text-lg bg-gradient-to-r from-primary to-secondary text-gradient">风味定制系统</span>
                    </div>
                    <p class="text-neutral-300 text-sm mt-2">为您提供个性化的味觉体验</p>
                </div>
                
                <div class="flex space-x-6">
                    <a href="#" class="text-neutral-300 hover:text-white transition-custom text-xl transform hover:scale-125">
                        <i class="fa fa-facebook"></i>
                    </a>
                    <a href="#" class="text-neutral-300 hover:text-white transition-custom text-xl transform hover:scale-125">
                        <i class="fa fa-twitter"></i>
                    </a>
                    <a href="#" class="text-neutral-300 hover:text-white transition-custom text-xl transform hover:scale-125">
                        <i class="fa fa-instagram"></i>
                    </a>
                </div>
            </div>
            
            <div class="border-t border-neutral-600 mt-6 pt-6 text-center text-neutral-400 text-sm">
                &copy; 2023 风味定制系统 版权所有
            </div>
        </div>
    </footer>

    <script>
        // 等待DOM完全加载后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 全局变量
            let currentDish = null;
            let currentFlavor = 'original';
            let currentAcidity = 3;
            let orders = [];
            let nextOrderId = 1;
            let selectedOrderId = null;
            
            // 口味名称映射
            const flavorNames = {
                'original': '原味',
                'apple': '苹果味',
                'lemon': '柠檬味',
                'rose': '玫瑰味',
                'passionfruit': '百香果味',
                'osmanthus': '桂花味'
            };
            
            // 菜品名称映射
            const dishNames = {
                'yuxiang': '鱼香肉丝',
                'tangcu': '糖醋排骨',
                'suncaiyu': '酸菜鱼'
            };
            
            // 酸度等级对应的配比
            const acidityLevels = {
                1: { lactic: 25, acetic: 0, description: '25g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）' },
                2: { lactic: 20, acetic: 5, description: '20g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）和 5g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）' },
                3: { lactic: 15, acetic: 10, description: '15g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）和 10g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）' },
                4: { lactic: 10, acetic: 15, description: '10g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）和 15g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）' },
                5: { lactic: 5, acetic: 20, description: '5g 乳清源酸味剂（含乳脂味、乳酸味、水果香、焦糖味、香草味、矿物清香）和 20g 醋（含醋酸味、糯米甜香、坚果味、陈酿窖香、麸皮香、大曲香）' }
            };
            
            // 风味特征映射
            const flavorCharacteristics = {
                1: "浓郁的乳清风味占主导，乳脂香气突出，带有柔和的乳酸味和水果香，口感顺滑圆润。",
                2: "乳清风味明显，乳脂味与水果香突出，伴有轻微的醋酸味提升整体鲜度，口感丰富有层次。",
                3: "乳清与香醋风味均衡融合，形成'双酸协同'的味感，乳清的乳酸味与香醋的醋酸味协调交织，味感鲜活。",
                4: "香醋风味更为明显，醋酸味与糯米甜香突出，乳清的乳脂味与香草味作为辅助，提升整体复杂度。",
                5: "醇厚的香醋风味占主导，陈酿窖香与坚果味突出，乳清的矿物清香作为背景，增添回味的悠长感。"
            };
            
            // 主导香气映射
            const dominantAromas = {
                1: "乳脂味、乳酸味、水果香（乳清）",
                2: "乳脂味、水果香、焦糖味（乳清）；轻微醋酸味（香醋）",
                3: "乳脂味、乳酸味、水果香（乳清）；醋酸味、糯米甜香、坚果味（香醋）",
                4: "醋酸味、糯米甜香、坚果味（香醋）；乳脂味、香草味（乳清）",
                5: "醋酸味、陈酿窖香、麸皮香（香醋）"
            };
            
            // 辅助香气映射
            const secondaryAromas = {
                1: "焦糖味、香草味、矿物清香（乳清）",
                2: "乳酸味、香草味、矿物清香（乳清）；糯米甜香（香醋）",
                3: "焦糖味、香草味、矿物清香（乳清）；陈酿窖香、麸皮香、大曲香（香醋）",
                4: "大曲香、陈酿窖香（香醋）；水果香、焦糖味、矿物清香（乳清）",
                5: "坚果味、大曲香（香醋）；乳脂味、乳酸味（乳清）"
            };
            
            // 厨师视图香气特征映射
            const chefAromaCharacteristics = {
                1: "乳脂味、乳酸味、水果香占主导，带有焦糖味、香草味和矿物清香作为辅助",
                2: "乳脂味与水果香突出，伴有轻微的醋酸味和糯米甜香",
                3: "乳脂味、乳酸味、水果香与醋酸味、糯米甜香、坚果味协同呈现",
                4: "醋酸味与糯米甜香为主导，乳脂味与香草味作为辅助",
                5: "陈酿窖香与醋酸味突出，带有坚果味和麸皮香"
            };
            
            // 移动端菜单切换
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            mobileMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });
            
            // 界面切换（顾客/厨师）
            const customerBtn = document.getElementById('customerBtn');
            const chefBtn = document.getElementById('chefBtn');
            const mobileCustomerBtn = document.getElementById('mobileCustomerBtn');
            const mobileChefBtn = document.getElementById('mobileChefBtn');
            const customerInterface = document.getElementById('customerInterface');
            const chefInterface = document.getElementById('chefInterface');
            
            function switchToCustomerInterface() {
                customerInterface.classList.remove('hidden');
                chefInterface.classList.add('hidden');
                customerBtn.classList.add('text-primary', 'border-b-2', 'border-primary');
                chefBtn.classList.remove('text-primary', 'border-b-2', 'border-primary');
                customerBtn.classList.add('active');
                chefBtn.classList.remove('active');
                mobileMenu.classList.add('hidden');
            }
            
            function switchToChefInterface() {
                chefInterface.classList.remove('hidden');
                customerInterface.classList.add('hidden');
                chefBtn.classList.add('text-primary', 'border-b-2', 'border-primary');
                customerBtn.classList.remove('text-primary', 'border-b-2', 'border-primary');
                chefBtn.classList.add('active');
                customerBtn.classList.remove('active');
                mobileMenu.classList.add('hidden');
                updateOrdersList();
            }
            
            customerBtn.addEventListener('click', switchToCustomerInterface);
            chefBtn.addEventListener('click', switchToChefInterface);
            mobileCustomerBtn.addEventListener('click', switchToCustomerInterface);
            mobileChefBtn.addEventListener('click', switchToChefInterface);
            
            // 菜品选择
            const dishCards = document.querySelectorAll('.dish-card');
            const customizationSection = document.getElementById('customizationSection');
            const selectedDishName = document.getElementById('selectedDishName');
            const cancelCustomization = document.getElementById('cancelCustomization');
            
            dishCards.forEach(card => {
                const selectBtn = card.querySelector('.select-dish-btn');
                
                selectBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    currentDish = card.dataset.dish;
                    selectedDishName.textContent = dishNames[currentDish];
                    
                    // 显示定制区域并添加动画
                    customizationSection.classList.remove('hidden');
                    setTimeout(() => {
                        customizationSection.classList.remove('opacity-0', 'translate-y-4');
                    }, 10);
                    
                    // 滚动到定制区域
                    customizationSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                });
            });
            
            // 取消定制
            cancelCustomization.addEventListener('click', function() {
                customizationSection.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => {
                    customizationSection.classList.add('hidden');
                    currentDish = null;
                }, 500);
            });
            
            // 酸度滑块
            const aciditySlider = document.getElementById('aciditySlider');
            const acidityValue = document.getElementById('acidityValue');
            const acidityDetails = document.getElementById('acidityDetails');
            const flavorCharacteristic = document.getElementById('flavorCharacteristic');
            const dominantAromasEl = document.getElementById('dominantAromas');
            const secondaryAromasEl = document.getElementById('secondaryAromas');
            
            aciditySlider.addEventListener('input', function() {
                currentAcidity = parseInt(this.value);
                acidityValue.textContent = currentAcidity;
                acidityDetails.textContent = acidityLevels[currentAcidity].description;
                flavorCharacteristic.textContent = flavorCharacteristics[currentAcidity];
                dominantAromasEl.textContent = dominantAromas[currentAcidity];
                secondaryAromasEl.textContent = secondaryAromas[currentAcidity];
            });
            
            // 口味选择
            const flavorOptions = document.querySelectorAll('.flavor-option');
            
            flavorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // 移除其他选项的选中状态
                    flavorOptions.forEach(opt => opt.classList.remove('selected'));
                    // 添加当前选项的选中状态
                    this.classList.add('selected');
                    currentFlavor = this.dataset.flavor;
                });
            });
            
            // 提交订单
            const submitOrderBtn = document.getElementById('submitOrder');
            const orderSuccess = document.getElementById('orderSuccess');
            const newOrderBtn = document.getElementById('newOrderBtn');
            
            submitOrderBtn.addEventListener('click', function() {
                if (!currentDish) return;
                
                // 创建新订单
                const newOrder = {
                    id: nextOrderId++,
                    dish: currentDish,
                    dishName: dishNames[currentDish],
                    acidity: currentAcidity,
                    flavor: currentFlavor,
                    flavorName: flavorNames[currentFlavor],
                    time: new Date().toLocaleTimeString()
                };
                
                orders.push(newOrder);
                
                // 隐藏定制区域，显示成功提示
                customizationSection.classList.add('opacity-0', 'translate-y-4');
                setTimeout(() => {
                    customizationSection.classList.add('hidden');
                    orderSuccess.classList.remove('hidden');
                    setTimeout(() => {
                        orderSuccess.classList.remove('opacity-0');
                    }, 10);
                }, 500);
                
                // 重置当前选择
                currentDish = null;
                currentFlavor = 'original';
                currentAcidity = 3;
                
                // 重置UI
                aciditySlider.value = 3;
                acidityValue.textContent = 3;
                acidityDetails.textContent = acidityLevels[3].description;
                flavorOptions.forEach(opt => opt.classList.remove('selected'));
                flavorOptions[0].classList.add('selected');
                
                // 更新厨师界面的订单列表
                updateOrdersList();
            });
            
            // 新订单按钮
            newOrderBtn.addEventListener('click', function() {
                orderSuccess.classList.add('opacity-0');
                setTimeout(() => {
                    orderSuccess.classList.add('hidden');
                }, 500);
            });
            
            // 更新订单列表
            function updateOrdersList() {
                const ordersList = document.getElementById('ordersList');
                const noOrdersMessage = document.getElementById('noOrdersMessage');
                
                ordersList.innerHTML = '';
                
                if (orders.length === 0) {
                    noOrdersMessage.classList.remove('hidden');
                    return;
                }
                
                noOrdersMessage.classList.add('hidden');
                
                orders.forEach(order => {
                    const orderItem = document.createElement('div');
                    orderItem.className = `border rounded-xl p-4 cursor-pointer transition-custom hover:shadow-md ${selectedOrderId === order.id ? 'order-item-selected' : ''}`;
                    orderItem.dataset.orderId = order.id;
                    
                    orderItem.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <h4 class="font-medium">${order.dishName}</h4>
                            <span class="text-sm text-neutral-500">${order.time}</span>
                        </div>
                        <div class="flex justify-between text-sm text-neutral-600">
                            <span>酸度: ${order.acidity}级</span>
                            <span>口味: ${order.flavorName}</span>
                        </div>
                        <div class="mt-3 flex justify-end">
                            <span class="text-xs bg-primary/10 text-primary px-2 py-1 rounded-full">
                                订单 #${order.id}
                            </span>
                        </div>
                    `;
                    
                    orderItem.addEventListener('click', function() {
                        selectedOrderId = order.id;
                        updateOrdersList();
                        showOrderRecipe(order.id);
                    });
                    
                    ordersList.appendChild(orderItem);
                });
            }
            
            // 显示订单配方详情
            function showOrderRecipe(orderId) {
                const order = orders.find(o => o.id === orderId);
                if (!order) return;
                
                const noSelectedOrder = document.getElementById('noSelectedOrder');
                const orderRecipeContent = document.getElementById('orderRecipeContent');
                const currentOrderId = document.getElementById('currentOrderId');
                const recipeDish = document.getElementById('recipeDish');
                const recipeAcidity = document.getElementById('recipeAcidity');
                const recipeFlavor = document.getElementById('recipeFlavor');
                const acidityRatio = document.getElementById('acidityRatio');
                const lacticAcidAmount = document.getElementById('lacticAcidAmount');
                const aceticAcidAmount = document.getElementById('aceticAcidAmount');
                const flavorAdditiveContainer = document.getElementById('flavorAdditiveContainer');
                const flavorAdditiveName = document.getElementById('flavorAdditiveName');
                const chefFlavorCharacteristic = document.getElementById('chefFlavorCharacteristic');
                const chefAromaCharacteristic = document.getElementById('chefAromaCharacteristic');
                
                // 显示配方内容，隐藏提示
                noSelectedOrder.classList.add('hidden');
                orderRecipeContent.classList.remove('hidden');
                
                // 更新配方信息
                currentOrderId.textContent = `订单 #${order.id}`;
                recipeDish.textContent = order.dishName;
                recipeAcidity.textContent = `${order.acidity}级`;
                recipeFlavor.textContent = order.flavorName;
                acidityRatio.textContent = acidityLevels[order.acidity].description;
                lacticAcidAmount.textContent = `${acidityLevels[order.acidity].lactic}g`;
                aceticAcidAmount.textContent = `${acidityLevels[order.acidity].acetic}g`;
                chefFlavorCharacteristic.textContent = flavorCharacteristics[order.acidity];
                chefAromaCharacteristic.textContent = chefAromaCharacteristics[order.acidity];
                
                // 处理风味添加剂显示
                if (order.flavor !== 'original') {
                    flavorAdditiveContainer.classList.remove('hidden');
                    flavorAdditiveName.textContent = `${order.flavorName}添加剂`;
                } else {
                    flavorAdditiveContainer.classList.add('hidden');
                }
            }
            
            // 完成订单
            const completeOrderBtn = document.getElementById('completeOrderBtn');
            
            completeOrderBtn.addEventListener('click', function() {
                if (selectedOrderId === null) return;
                
                // 从订单列表中移除已完成的订单
                orders = orders.filter(order => order.id !== selectedOrderId);
                selectedOrderId = null;
                
                // 更新订单列表和配方详情
                updateOrdersList();
                
                const noSelectedOrder = document.getElementById('noSelectedOrder');
                const orderRecipeContent = document.getElementById('orderRecipeContent');
                
                noSelectedOrder.classList.remove('hidden');
                orderRecipeContent.classList.add('hidden');
            });
            
            // 初始化
            updateOrdersList();
        });
    </script>
</body>
</html>
